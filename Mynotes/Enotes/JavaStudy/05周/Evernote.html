<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑 Light" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/307503 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑 Light;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="747"/>
<h1>Day21</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/8/20 14:00</i></td></tr>
<tr><td><b>作者：</b></td><td><i>41671127@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><ul><li><div>锁：</div></li><ul><li><div>互斥锁/同步锁：synchronized</div></li><li><div> 要想锁的住，锁必须是同一把-- 锁对象</div></li><li><div>同步代码块：</div></li><ul><li><div>synchronized(锁对象){}</div></li><li><div>对象必须是唯一的，不然锁不住</div></li></ul><li><div>同步方法：</div></li><ul><li><div>锁对象为this</div></li><ul><li><div>访问修饰符 synchronized 返回值类型 方法名(参数列表){}</div></li></ul><li><div>锁对象为字节码文件</div></li><ul><li><div>访问修饰符 static synchronized 返回值类型 方法名(参数列表){}</div></li></ul></ul><li><div>Lock锁:锁对象就是自己</div></li><li><div>synchronized vs Lock</div></li><ul><li><div>synchronized加锁后，会自动解锁</div></li><li><div>lock加锁后，必须手动解锁</div></li></ul><li><div>经验：多个线程操作同一个资源，必须使用锁</div></li></ul></ul><div><br/></div><ul><li><div><span style="min-height: 18pt; font-size: 14pt; background: rgb(97, 97, 97); color: rgb(156, 248, 40);">多线程下的单例模式</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">package</span> <span style="min-height: 18pt;">ThreadStudy;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">//线程安全，不占资源</font></span></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">public</span> <span style="min-height: 18pt;">class</span> <span style="min-height: 18pt;">多线程下的单例模式</span> <span style="min-height: 18pt;">{</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">         </font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">}        </font></span></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">class</span> <span style="min-height: 18pt;">Myclass</span><span style="min-height: 18pt;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">         </span><span style="min-height: 18pt;">private</span> <span style="min-height: 18pt;">static</span> <span style="min-height: 18pt;">Myclass</span> <span style="min-height: 18pt; font-style: italic;">my</span><span style="min-height: 18pt;">;</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">         </span><span style="min-height: 18pt;">private</span> <span style="min-height: 18pt;">Myclass</span><span style="min-height: 18pt;">() {}</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">         </span><span style="min-height: 18pt;">public</span> <span style="min-height: 18pt;">static</span> <span style="min-height: 18pt; background: rgb(97, 97, 97);">Myclass</span> <span style="min-height: 18pt;">getInstence</span><span style="min-height: 18pt;">() {</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                 </span><span style="min-height: 18pt;">if</span> <span style="min-height: 18pt;">(</span><span style="min-height: 18pt; font-style: italic;">my</span><span style="min-height: 18pt;">!=</span><span style="min-height: 18pt;">null</span><span style="min-height: 18pt;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                          </span><span style="min-height: 18pt; background: rgb(97, 97, 97);">return</span> <span style="min-height: 18pt; background: rgb(97, 97, 97); font-style: italic;">my</span><span style="min-height: 18pt; background: rgb(97, 97, 97);">;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">                 }</font></span></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                 </span><span style="min-height: 18pt;">synchronized</span> <span style="min-height: 18pt;">(</span><span style="min-height: 18pt;">String</span><span style="min-height: 18pt;">.</span><span style="min-height: 18pt;">class</span><span style="min-height: 18pt;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                          </span><span style="min-height: 18pt;">if</span> <span style="min-height: 18pt;">(</span><span style="min-height: 18pt; font-style: italic;">my</span> <span style="min-height: 18pt;">==</span> <span style="min-height: 18pt;">null</span><span style="min-height: 18pt;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                                  </span><span style="min-height: 18pt; font-style: italic;">my</span> <span style="min-height: 18pt;">=</span> <span style="min-height: 18pt;">new</span> <span style="min-height: 18pt;">Myclass</span><span style="min-height: 18pt;">();</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">                          }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">                 }</font></span></div><div style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;"><span style="min-height: 18pt;">                 </span><span style="min-height: 18pt; background: rgb(97, 97, 97);">return</span> <span style="min-height: 18pt; background: rgb(97, 97, 97); font-style: italic;">my</span><span style="min-height: 18pt; background: rgb(97, 97, 97);">;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">         }</font></span></div><div><span style="min-height: 18pt;"><font color="#000000" face="微软雅黑 Light" style="font-size: 12pt;">}</font></span></div></div><div><br/></div><ul><li><div>死锁</div></li><ul><li><div>加多层锁的时候，一定要注意资源的争抢</div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">package</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ThreadStudy;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">死锁</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">static</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">void</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">main</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">String</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">[]</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">args</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">s1</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">true</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">s2</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">false</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 </font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">s1</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">start</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">();</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">s2</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">start</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">();</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;down&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">extends</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Thread</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">private</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">boolean</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">bool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">() {}</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"> </span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sou</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">boolean</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">bool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">this</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">bool</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">bool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">@</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; background: rgb(97, 97, 97); font-style: italic;">Override</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">void</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">run</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">() {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">if</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">bool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                          </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">synchronized</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;1&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                  </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">try</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                           </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Thread</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">sleep</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">10</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                  }</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">catch</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">InterruptedException</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">e</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {                             }</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                  </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">synchronized</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;2&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                           </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;111111执行了&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                                  }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                          }</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 }</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">else</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                          </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">synchronized</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;2&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                  </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">synchronized</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;1&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                                           </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot;22222执行了&quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                                  }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                          }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div></div><ul><li><div>线程池</div></li><ul><li><div>一个线程的线程池</div></li><ul><li><div>ExecutorService pool = Executors.newSingleThreadExecutor();</div></li></ul><li><div>固定线程个数的线程池</div></li><ul><li><div>ExecutorService pool = Executors.newFixedThreadPool(2);</div></li></ul><li><div>带有缓冲区的线程池</div></li><ul><li><div>ExecutorService pool = Executors.newCachedThreadPool();</div></li></ul></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">package</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ThreadStudy;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.ExecutorService;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.Executors;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">线程池</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">static</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">void</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">main</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">String</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">[]</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">args</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//一个线程的线程池</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">//               ExecutorService pool = Executors.newSingleThreadExecutor();</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//固定线程的线程池</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ExecutorService</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Executors</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">newFixedThreadPool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">2</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//带有缓存区的线程池</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">//               ExecutorService pool = Executors.newCachedThreadPool();</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 </font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//添加到线程池</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">task</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">task</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">task</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 </font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//关闭线程池</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">shutdown</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">();</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 </font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">task</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">implements</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Runnable</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">@Override</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">void</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">run</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">() {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">for</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">int</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">0</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">10</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">++) {</span></font></div><div style="min-height: 14pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">                          </span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">Thread</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">currentThread</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">().</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">getName</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">()+</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">&quot;--------&quot;</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">+</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">i</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div></div><ul><li><div>带有返回值的任务类 联合线程池一起使用（合并计算）</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">package</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ThreadStudy;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.Callable;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.ExecutionException;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.ExecutorService;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.Executors;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">import</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">java.util.concurrent.Future;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">带返回值的任务类</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">static</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">void</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">main</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">String</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">[]</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">args</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">)</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">throws</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">InterruptedException</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">,</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ExecutionException</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//结合线程池</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">ExecutorService</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Executors</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">newFixedThreadPool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">2</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//获取返回值</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//添加到线程池   此处会进入线程柱塞状态</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Future</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Integer</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&gt;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f1</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">tasks</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Future</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Integer</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&gt;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f2</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">tasks</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Future</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Integer</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&gt;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f3</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">submit</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">new</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">tasks</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 </font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//get用于获取返回值</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f1</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">get</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">()+</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot; &quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">+</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f2</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">get</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">()+</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&quot; &quot;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">+</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">f3</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">get</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">());</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//关闭线程</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">pool</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">shutdown</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">();</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">//需要实现</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; text-decoration: underline;">Callable</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">接口，泛型为返回值类型</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">class</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">tasks</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"> </span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">implements</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Callable</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Integer</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&gt;{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">int</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sum</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">0</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">@Override</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">         </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">public</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Integer</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">call</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">()</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">throws</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">Exception</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">{</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">for</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">int</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">0</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">&lt;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">100</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">++) {</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                          </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sum</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">+=</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">i</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">                 }</font></span></div><div style="min-height: 14pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">                  </span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">System</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;; font-weight: bold; font-style: italic;">out</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">println</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">(</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">Thread</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">.</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;; font-style: italic;">currentThread</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">().</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">getName</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">()+</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">&quot;----------&quot;</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">+</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">sum</span><span style="min-height: 14pt; font-family: &quot;΢���ź� Light&quot;;">);</span></font></div><div style="min-height: 18pt;"><font color="#000000" style="font-size: 12pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">                 </span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">return</span> <span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">sum</span><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;">;</span></font></div><div style="min-height: 18pt;"><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">         }</font></span></div><div><span style="min-height: 18pt; font-family: &quot;΢���ź� Light&quot;;"><font color="#000000" style="font-size: 12pt;">}</font></span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div></span>
</div>
<hr>
<a name="757"/>
<h1>Day22</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/8/21 14:36</i></td></tr>
<tr><td><b>作者：</b></td><td><i>41671127@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><div>生产者消费者模型</div><div><br/></div><ul><li><div>守护线程Deamon</div></li><ul><li><div>setDeamom将当前线程标记为守护线程或者非守护线程</div></li><ul><li><div>当没有用户线程时，java虚拟机将退出</div></li></ul><li><div>isDeamon 判断一个线程是否为守护线程</div></li><li><div>作用关闭主线程时同时关闭其他线程</div></li><ul><li><div>生命周期：非守护线程全部消亡掉后，守护线程自动消亡</div></li></ul><li><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">guardThread.setDaemon(true);//设置此线程为守护线程</span></div></li></ul></ul></div><div><br/></div><div><a href="evernote:///view/21272373/s64/25993c9b-30a3-46ae-a4f5-046d243089a2/25993c9b-30a3-46ae-a4f5-046d243089a2/" style="color: #69aa35;">网络编程</a></div><div><br/></div><div><br/></div></span>
</div>
<hr>
<a name="765"/>
<h1>Day23</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2018/8/22 19:23</i></td></tr>
<tr><td><b>作者：</b></td><td><i>41671127@qq.com</i></td></tr>
</table>
</div>
<br/>

<div>
<span><div><ul><li><div>Github上查看详细信息</div></li><ul><li><div><a href="https://github.com/HIbian/One/commit/c6d50910f3b53f024b3d40df06f6a0e9e26258bd">https://github.com/HIbian/One/commit/c6d50910f3b53f024b3d40df06f6a0e9e26258bd</a></div></li><li><div>TCP(优化一对一聊天、群聊、互联五子棋)</div></li><li><div>UDP(基本操作、一对一聊天)</div></li><li><div>TCP vs UDP</div></li><li><div>Http(下载图片、查询归属地、查询快递)</div></li></ul></ul><div><br/></div></div></span>
</div></body></html> 